{"ast":null,"code":"import _regeneratorRuntime from \"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/src/components/upcoming-workouts.jsx\";\nimport axios from \"axios\"; // import { data } from \"jquery\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Modal from 'react-bootstrap/Modal';\nimport upcomingWorkoutsIcon from \"../assets/icons/upcoming-workouts-dash.png\"; // import API from '../utils/api'\n\nimport UpcomingWorkoutsCard from \"./modules/upcoming-workouts-card\";\n\nfunction UpcomingWorkouts() {\n  var _this = this;\n\n  // defines and handles schedule and number of workouts\n  var _useState = useState(),\n      _useState2 = _slicedToArray(_useState, 2),\n      numberWorkouts = _useState2[0],\n      setNumberWorkouts = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      schedule = _useState4[0],\n      setSchedule = _useState4[1]; // handles Modals\n\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      show = _useState6[0],\n      setShow = _useState6[1];\n\n  var handleClose = function handleClose() {\n    return setShow(false);\n  };\n\n  var handleShow = function handleShow() {\n    return setShow(true);\n  }; // retrieves user info from db\n\n\n  useEffect(function () {\n    var email = sessionStorage.getItem('email');\n\n    if (email) {\n      _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var _yield$axios$get, data, scheduleMap;\n\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return axios.get(\"/users?email=\".concat(email));\n\n              case 3:\n                _yield$axios$get = _context.sent;\n                data = _yield$axios$get.data;\n                // const { data } = await axios.get(`/users?email=example3@gmail.com`);\n                scheduleMap = data.workouts.map(function (data) {\n                  return {\n                    address: data.address,\n                    date: data.date,\n                    location: data.location,\n                    time: data.time\n                  };\n                });\n                setSchedule(scheduleMap);\n                setNumberWorkouts(data.workouts.length);\n                _context.next = 13;\n                break;\n\n              case 10:\n                _context.prev = 10;\n                _context.t0 = _context[\"catch\"](0);\n                console.log(_context.t0);\n\n              case 13:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 10]]);\n      }))();\n    }\n  }, []); // handles canceling a workout\n\n  function cancelWorkout(id) {\n    // api call to Google Calendar and to db\n    // API.deleteWorkouts(id)\n    console.log(\"deleting workout with id: \".concat(id));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container dashOpacity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    id: \"upcomingWorkouts\",\n    className: \"card mb-1 mt-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    id: \"upcomingWorkoutsIcon\",\n    src: upcomingWorkoutsIcon,\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"h4\", {\n    className: \"card-title fs-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"Upcoming Workouts\"), /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"card-subtitle mb-3 text-black-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 11\n    }\n  }, \"You have \", numberWorkouts, \" upcoming workouts!\")), schedule.map(function (session) {\n    return /*#__PURE__*/React.createElement(UpcomingWorkoutsCard, {\n      key: schedule.indexOf(session),\n      date: session.date,\n      time: session.time,\n      location: session.location,\n      address: session.address,\n      cancelWorkout: cancelWorkout,\n      handleShow: handleShow,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }\n    });\n  }), /*#__PURE__*/React.createElement(Modal, {\n    show: show,\n    onHide: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Modal.Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"Are you sure you want to cancel this workout?\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn\",\n    \"data-bs-dismiss\": \"modal\",\n    onClick: handleClose,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, \"Yes\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn\",\n    \"data-bs-dismiss\": \"modal\",\n    onClick: handleClose,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, \"No\")))));\n}\n\nexport default UpcomingWorkouts;","map":{"version":3,"sources":["/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/src/components/upcoming-workouts.jsx"],"names":["axios","React","useState","useEffect","Modal","upcomingWorkoutsIcon","UpcomingWorkoutsCard","UpcomingWorkouts","numberWorkouts","setNumberWorkouts","schedule","setSchedule","show","setShow","handleClose","handleShow","email","sessionStorage","getItem","get","data","scheduleMap","workouts","map","address","date","location","time","length","console","log","cancelWorkout","id","session","indexOf"],"mappings":"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","sourcesContent":["import axios from \"axios\";\n// import { data } from \"jquery\";\nimport React, { useState, useEffect } from \"react\";\nimport Modal from 'react-bootstrap/Modal'\nimport upcomingWorkoutsIcon from \"../assets/icons/upcoming-workouts-dash.png\";\n// import API from '../utils/api'\nimport UpcomingWorkoutsCard from \"./modules/upcoming-workouts-card\";\n\n\nfunction UpcomingWorkouts() {\n\n  // defines and handles schedule and number of workouts\n  const [numberWorkouts, setNumberWorkouts] = useState()\n  const [schedule, setSchedule] = useState([]);\n  // handles Modals\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  // retrieves user info from db\n  useEffect(() => {\n    const email = sessionStorage.getItem('email');\n    if (email) {\n      (async () => {\n        try {\n          const { data } = await axios.get(`/users?email=${email}`);\n          // const { data } = await axios.get(`/users?email=example3@gmail.com`);\n          const scheduleMap = data.workouts.map((data) => {\n            return {\n              address: data.address,\n              date: data.date,\n              location: data.location,\n              time: data.time\n            }\n          })\n          setSchedule(scheduleMap);\n          setNumberWorkouts(data.workouts.length)\n        } catch (err) {\n          console.log(err);\n        }\n      })();\n    }\n  }, []);\n  // handles canceling a workout\n  function cancelWorkout(id) {\n    // api call to Google Calendar and to db\n    // API.deleteWorkouts(id)\n    console.log(`deleting workout with id: ${id}`)\n  }\n  return (\n    <div className=\"container dashOpacity\">\n      <div id=\"upcomingWorkouts\" className=\"card mb-1 mt-1\">\n        <div className=\"mt-4\">\n          <img id=\"upcomingWorkoutsIcon\" src={upcomingWorkoutsIcon} alt=\"\" />\n          <h4 className=\"card-title fs-3\">Upcoming Workouts</h4>\n          <h6 className=\"card-subtitle mb-3 text-black-50\">\n            You have {numberWorkouts} upcoming workouts!\n          </h6>\n        </div>\n        {schedule.map(session => {\n          return (\n            <UpcomingWorkoutsCard\n              key={schedule.indexOf(session)}\n              date={session.date}\n              time={session.time}\n              location={session.location}\n              address={session.address}\n              cancelWorkout={cancelWorkout}\n              handleShow={handleShow}\n            />\n          )\n        })\n        }\n        <Modal show={show} onHide={handleClose}>\n          <Modal.Header>\n            <Modal.Title>Are you sure you want to cancel this workout?</Modal.Title>\n          </Modal.Header>\n\n          <div className=\"\">\n            <button className=\"btn\" data-bs-dismiss=\"modal\" onClick={handleClose} type=\"button\">Yes</button>\n          </div>\n          <div className=\"\">\n            <button className=\"btn\" data-bs-dismiss=\"modal\" onClick={handleClose} type=\"button\">No</button>\n          </div>\n        </Modal>\n      </div>\n    </div>\n  );\n}\n\nexport default UpcomingWorkouts;"]},"metadata":{},"sourceType":"module"}
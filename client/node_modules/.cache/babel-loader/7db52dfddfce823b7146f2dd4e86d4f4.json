{"ast":null,"code":"'use strict';\n\nvar _createForOfIteratorHelper = require(\"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createForOfIteratorHelper\");\n\nvar _regeneratorRuntime = require(\"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\");\n\nvar _asyncToGenerator = require(\"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/asyncToGenerator\");\n\nvar _classCallCheck = require(\"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/classCallCheck\");\n\nvar _createClass = require(\"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createClass\");\n\nvar _inherits = require(\"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/inherits\");\n\nvar _createSuper = require(\"/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/createSuper\");\n\nvar PDF = require('./object');\n\nvar Header = require('./header');\n\nmodule.exports = /*#__PURE__*/function (_Header) {\n  _inherits(Footer, _Header);\n\n  var _super = _createSuper(Footer);\n\n  function Footer(doc, parent) {\n    _classCallCheck(this, Footer);\n\n    return _super.call(this, doc, parent);\n  } /// private API\n\n\n  _createClass(Footer, [{\n    key: \"_createObject\",\n    value: function _createObject() {\n      var xobj = Header.prototype._createObject.call(this); // since the footer has to be moved to the bottom of the page a Matrix property is added here\n\n\n      xobj.prop('Matrix', this._matrix.toReference());\n      return xobj;\n    }\n  }, {\n    key: \"_pageBreak\",\n    value: function () {\n      var _pageBreak2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(level) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                throw new Error('Footer is to long (tried to execute a page break inside the footer)');\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function _pageBreak(_x) {\n        return _pageBreak2.apply(this, arguments);\n      }\n\n      return _pageBreak;\n    }()\n  }, {\n    key: \"_start\",\n    value: function () {\n      var _start2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                this._matrix = new PDF.Object();\n\n                this._doc._registerObject(this._matrix);\n\n                _context2.next = 4;\n                return Header.prototype._start.call(this);\n\n              case 4:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n\n      function _start() {\n        return _start2.apply(this, arguments);\n      }\n\n      return _start;\n    }()\n  }, {\n    key: \"_end\",\n    value: function () {\n      var _end2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        var innerHeight, offset, _iterator, _step, instance;\n\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                // keep track of the innerHeight to calculate the offset (to move the footer to the bottom\n                // of the page) below\n                innerHeight = this._doc._cursor.startY - this._doc._cursor.bottom;\n                _context3.next = 3;\n                return Header.prototype._end.call(this);\n\n              case 3:\n                // calculate the offset and set the Matrix accordingly\n                offset = innerHeight - this.height;\n                this._matrix.content = new PDF.Array([1, 0, 0, 1, 0, -offset]);\n                _context3.next = 7;\n                return this._doc._writeObject(this._matrix);\n\n              case 7:\n                // also move the page numbers by the offset (otherwise they would be rendered on top of the\n                // page)\n                _iterator = _createForOfIteratorHelper(this._pageNumbers);\n\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    instance = _step.value;\n                    instance.y -= offset;\n                  }\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n\n              case 9:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n\n      function _end() {\n        return _end2.apply(this, arguments);\n      }\n\n      return _end;\n    }()\n  }]);\n\n  return Footer;\n}(Header);","map":{"version":3,"sources":["/Users/mikebannoura/Dropbox/My Mac (MacBook-Pro-Mike.local)/Desktop/mmbball-app/client/node_modules/pdfjs/lib/footer.js"],"names":["PDF","require","Header","module","exports","doc","parent","xobj","prototype","_createObject","call","prop","_matrix","toReference","level","Error","Object","_doc","_registerObject","_start","innerHeight","_cursor","startY","bottom","_end","offset","height","content","Array","_writeObject","_pageNumbers","instance","y"],"mappings":"AAAA;;;;;;;;;;;;;;;;AAEA,IAAMA,GAAG,GAAGC,OAAO,CAAC,UAAD,CAAnB;;AACA,IAAMC,MAAM,GAAGD,OAAO,CAAC,UAAD,CAAtB;;AAEAE,MAAM,CAACC,OAAP;AAAA;;AAAA;;AACE,kBAAYC,GAAZ,EAAiBC,MAAjB,EAAyB;AAAA;;AAAA,6BACjBD,GADiB,EACZC,MADY;AAExB,GAHH,CAKE;;;AALF;AAAA;AAAA,WAOE,yBAAgB;AACd,UAAMC,IAAI,GAAGL,MAAM,CAACM,SAAP,CAAiBC,aAAjB,CAA+BC,IAA/B,CAAoC,IAApC,CAAb,CADc,CAEd;;;AACAH,MAAAA,IAAI,CAACI,IAAL,CAAU,QAAV,EAAoB,KAAKC,OAAL,CAAaC,WAAb,EAApB;AACA,aAAON,IAAP;AACD;AAZH;AAAA;AAAA;AAAA,iFAcE,iBAAiBO,KAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,sBACQ,IAAIC,KAAJ,CAAU,qEAAV,CADR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAdF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6EAkBE;AAAA;AAAA;AAAA;AAAA;AACE,qBAAKH,OAAL,GAAe,IAAIZ,GAAG,CAACgB,MAAR,EAAf;;AACA,qBAAKC,IAAL,CAAUC,eAAV,CAA0B,KAAKN,OAA/B;;AAFF;AAAA,uBAIQV,MAAM,CAACM,SAAP,CAAiBW,MAAjB,CAAwBT,IAAxB,CAA6B,IAA7B,CAJR;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAlBF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2EAyBE;AAAA;;AAAA;AAAA;AAAA;AAAA;AACE;AACA;AACMU,gBAAAA,WAHR,GAGsB,KAAKH,IAAL,CAAUI,OAAV,CAAkBC,MAAlB,GAA2B,KAAKL,IAAL,CAAUI,OAAV,CAAkBE,MAHnE;AAAA;AAAA,uBAKQrB,MAAM,CAACM,SAAP,CAAiBgB,IAAjB,CAAsBd,IAAtB,CAA2B,IAA3B,CALR;;AAAA;AAOE;AACMe,gBAAAA,MARR,GAQiBL,WAAW,GAAG,KAAKM,MARpC;AASE,qBAAKd,OAAL,CAAae,OAAb,GAAuB,IAAI3B,GAAG,CAAC4B,KAAR,CAAc,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,EAAgB,CAACH,MAAjB,CAAd,CAAvB;AATF;AAAA,uBAUQ,KAAKR,IAAL,CAAUY,YAAV,CAAuB,KAAKjB,OAA5B,CAVR;;AAAA;AAYE;AACA;AAbF,uDAcyB,KAAKkB,YAd9B;;AAAA;AAcE,sEAA0C;AAA/BC,oBAAAA,QAA+B;AACxCA,oBAAAA,QAAQ,CAACC,CAAT,IAAcP,MAAd;AACD;AAhBH;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAzBF;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA,EAAsCvB,MAAtC","sourcesContent":["'use strict'\n\nconst PDF = require('./object')\nconst Header = require('./header')\n\nmodule.exports = class Footer extends Header {\n  constructor(doc, parent) {\n    super(doc, parent)\n  }\n\n  /// private API\n\n  _createObject() {\n    const xobj = Header.prototype._createObject.call(this)\n    // since the footer has to be moved to the bottom of the page a Matrix property is added here\n    xobj.prop('Matrix', this._matrix.toReference())\n    return xobj\n  }\n\n  async _pageBreak(level) {\n    throw new Error('Footer is to long (tried to execute a page break inside the footer)')\n  }\n\n  async _start() {\n    this._matrix = new PDF.Object()\n    this._doc._registerObject(this._matrix)\n\n    await Header.prototype._start.call(this)\n  }\n\n  async _end() {\n    // keep track of the innerHeight to calculate the offset (to move the footer to the bottom\n    // of the page) below\n    const innerHeight = this._doc._cursor.startY - this._doc._cursor.bottom\n\n    await Header.prototype._end.call(this)\n\n    // calculate the offset and set the Matrix accordingly\n    const offset = innerHeight - this.height\n    this._matrix.content = new PDF.Array([1, 0, 0, 1, 0, -offset])\n    await this._doc._writeObject(this._matrix)\n\n    // also move the page numbers by the offset (otherwise they would be rendered on top of the\n    // page)\n    for (const instance of this._pageNumbers) {\n      instance.y -= offset\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"script"}